import{d as M,q as P,s as V,u as k,l as f,b as c,m as s,p as l,F as m,g as n,o as r,x as R,h as y,a as v,N as w}from"./index.263af6ac.js";import{u as j}from"./ordersStore.2ba5c0ad.js";import{A as q,P as p,a as d,_ as C}from"./apiService.ef64a074.js";import{_ as x,T as S}from"./Tab.ae01bb38.js";import{R as $}from"./routeHelper.5492bb77.js";const E=n("div",{class:"hidden lg:block"},"big screen not supported yet",-1),H=n("thead",{class:"border-t-0"},null,-1),L={class:"bg-white"},O={class:"bg-white"},z=n("thead",{class:"border-t-0"},null,-1),D=n("thead",{class:"border-t-0"},null,-1),X=M({name:"RoutesPage",setup(G){const a=P();j(),V();const{accounts:T}=k(),B=new q(k()),u=f(),i=f(),F=f(0),_=e=>e?e.sort((t,o)=>+o.scheduledSampling-+t.scheduledSampling):[],b=()=>{a.selectedRoute=void 0,w.push("/scheduling")},I=e=>e?T.value.some(h=>h.username==e):!1,N=async e=>{F.value=e},g=async e=>{a.selectedRoute=e,w.push("/scheduling")};return a.$persistedState.isReady().then(async()=>{a.routes||(a.routes=await B.get("routes")),u.value=a.selectedRoute,i.value=a.routes}),(e,h)=>(r(),c(m,null,[E,s(p,{class:"lg:hidden"},{content:l(()=>[H,n("tbody",L,[u.value?(r(),R(d,{key:0,header:u.value.description,footer1:e.$t("Click here to deselect current route"),onRowClicked:b},null,8,["header","footer1"])):(r(),R(d,{key:1,header:e.$t("No route"),footer1:e.$t("Select a route below"),onRowClicked:b},null,8,["header","footer1"]))]),n("tbody",O,[s(x,{"selected-tab-index":0,classes:"justify-center mt-2 mb-2 pb-2",onSelectedTabChanged:N},{default:l(()=>[s(S,{title:e.$t("All routes")},{default:l(()=>[s(p,{class:"lg:hidden -mt-2"},{content:l(()=>[z,(r(!0),c(m,null,y(_(i.value),(t,o)=>(r(),c("tbody",{key:o,class:"bg-white"},[s(d,{header:t.description,footer1:v($).getInstance().routeFooter(t),clickable:!0,onRowClicked:A=>g(t)},null,8,["header","footer1","onRowClicked"])]))),128)),s(C)]),_:1})]),_:1},8,["title"]),s(S,{title:e.$t("My routes")},{default:l(()=>[s(p,{class:"lg:hidden"},{content:l(()=>[D,(r(!0),c(m,null,y(_(i.value).filter(t=>{var o;return I((o=t.sampleCollector)==null?void 0:o.email)}),(t,o)=>(r(),c("tbody",{key:o,class:"bg-white"},[s(d,{header:t.description,footer1:v($).getInstance().routeFooter(t),clickable:!0,onRowClicked:A=>g(t)},null,8,["header","footer1","onRowClicked"])]))),128)),s(C)]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1})],64))}});export{X as default};
