import{o,x as u,m as l,d as A,u as F,v as N,q as z,l as D,c as I,b as a,p as g,F as n,g as t,a as f,h as $,A as L,e as M}from"./index.263af6ac.js";import{A as P,_ as i,a as d,P as V}from"./apiService.ef64a074.js";import{R as C}from"./routeHelper.5492bb77.js";function H(m,c){return o(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})])}const T=t("div",{class:"hidden lg:block"},"big screen not supported yet",-1),U={class:"bg-white"},j={class:"bg-white"},q={key:0,class:"bg-white"},E=t("hr",{class:"border"},null,-1),O=t("div",{class:"absolute ml-5 w-5"},[t("div",{class:"bg-gray-300 w-1 h-1 rounded-full mt-1 m-auto place-self-center"}),t("div",{class:"bg-gray-300 w-3 h-3 rounded-full mt-1 m-auto place-self-center"}),t("div",{style:{},class:"bg-gray-300 w-1 h-1 rounded-full mt-1 m-auto place-self-center"}),t("div",{class:"bg-gray-300 w-1 h-1 rounded-full mt-1 m-auto place-self-center"}),t("div",{class:"bg-gray-300 w-1 h-1 rounded-full mt-1 m-auto place-self-center"})],-1),G=t("hr",{class:"border ml-6"},null,-1),J={class:"absolute ml-5 w-5"},K=t("div",{class:"bg-gray-300 w-1 h-1 rounded-full mt-1 m-auto place-self-center"},null,-1),Q=t("hr",{class:"border"},null,-1),W={key:1,class:"bg-white"},X={class:"bg-white"},te=A({name:"RouteDetails",props:{selectedRoute:null,showUnsavedRoute:{type:Boolean},editable:{type:Boolean}},emits:["routeSelected"],setup(m,{emit:c}){const y=m,S=new P(F());N();const p=z(),e=D(),x=s=>{var r;e.value&&(e.value.description=s,e.value.pristine=!1,(r=p.routes)==null||r.push(e.value))},B=I(()=>{var s;return(s=e.value)!=null&&s.orders?e.value.orders.length>0:!1});return p.$persistedState.isReady().then(async()=>{p.selectedRoute||S.get("routes/{}"),e.value=p.selectedRoute}),(s,r)=>(o(),a(n,null,[T,l(V,{class:"lg:hidden"},{content:g(()=>{var b,w,_,k,R;return[!y.showUnsavedRoute&&((b=e.value)==null?void 0:b.pristine)?(o(),a(n,{key:0},[l(i,{title:s.$t("Route")},null,8,["title"]),t("tbody",U,[l(d,{header:s.$t("No route"),footer1:s.$t("Click here to select a route"),onRowClicked:r[0]||(r[0]=v=>c("routeSelected"))},null,8,["header","footer1"])])],64)):(o(),a(n,{key:1},[l(i,{title:s.$t("Route")},null,8,["title"]),t("tbody",j,[y.editable?(o(),u(d,{key:0,"text-input":(w=e.value)==null?void 0:w.description,footer1:f(C).getInstance().routeFooter(e.value),onRowClicked:r[1]||(r[1]=v=>c("routeSelected")),onTextInputChanged:x},null,8,["text-input","footer1"])):(o(),u(d,{key:1,header:(_=e.value)==null?void 0:_.description,footer1:f(C).getInstance().routeFooter(e.value),onRowClicked:r[2]||(r[2]=v=>c("routeSelected"))},null,8,["header","footer1"]))]),l(i,{title:s.$t("Directions")},null,8,["title"]),f(B)?(o(),a("tbody",q,[(o(!0),a(n,null,$(e.value.orders,(v,h)=>(o(),a(n,{key:h},[E,l(d,{header:"First waypoint",footer1:"Address",footer2:"Samples collected","no-borders":!0,styles:"padding-left:1.5rem"},{default:g(()=>[O]),_:1},8,["styles"])],64))),128)),G,l(d,{header:"Home",footer1:"Address","no-borders":!0,styles:"padding-left:1.5rem"},{default:g(()=>[t("div",J,[K,(o(),u(L(f(H)),{class:"text-gray-300 w-5 h-5 mt-1 m-auto place-self-center"}))])]),_:1},8,["styles"]),Q])):(o(),a("tbody",W,[l(d,{header:"No directions to show",footer1:"Add orders to the route in the overview"})])),(k=e.value)!=null&&k.packaging?(o(),a(n,{key:2},[l(i,{title:s.$t("Packaging")},null,8,["title"]),t("tbody",X,[(o(!0),a(n,null,$((R=e.value)==null?void 0:R.packaging,(v,h)=>(o(),u(d,{key:h,header:"First bottle",footer1:"description"}))),128))])],64)):M("",!0),l(i)],64))]}),_:1})],64))}});export{te as _};
